@model src.ViewModel.CategoriesIndexViewModel

<h1 class="text-white text-center categories-header">Управление категориями</h1>

<div class="users-container mt-4">
    <div>
        <a asp-area="Admin" asp-controller="Panel" asp-action="Index" class="btn btn-secondary mb-3">Назад к панели</a>
    </div>
 <div class="users-filters">
        <form asp-action="Index" method="get" id="filterForm">
            <div class="categories-filter-1 mb-2">
                <div class="users-input-group">
                    <sub>Поиск категории</sub>
                    <input type="text" class="form-control users-input-search" value="@Model.SearchString"
                        placeholder="Введите название или ID категории..." name="searchString" />
                </div>
                <div class="users-input-group">
                    <sub>Сортировка</sub>
                    <select class="form-select" name="sortOrder">
                        <option value="">По умолчанию</option>
                        <option value="name">По названию</option>
                        <option value="games_count">По количеству игр</option>
                    </select>
                </div>
            </div>
            <div class="categories-filter-2 mt-4">
                <div class="users-input-group-buttons">
                    <button type="submit" class="btn-filter btn btn-primary"><i class="fa fa-filter"></i>Применить
                        фильтры</button>
                    <a asp-action="Index" class="btn-filter btn btn-secondary"><i class="fa fa-repeat"
                            aria-hidden="true"></i>Сбросить фильтры</a>
                </div>
            </div>
        </form>
    </div>
        <div class="text-end md-3">
            <a asp-area="Admin" asp-controller="Categories" asp-action="Create" class="btn btn-success mb-3">+ Добавить
                категорию</a>
        </div>
    <div class="users-list">
        <table class="users-list-table">
            <thead>
                <tr>
                    <th style="text-align: center;">ID</th>
                    <th style="text-align: center;">Название</th>
                    <th style="text-align: center;">Кол-во игр</th>
                    <th style="text-align: center;">Действия</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var category in Model.Categories)
                {
                    <tr>
                        <td style="width: 60px; font-weight: 500;">@category.Id</td>
                        <td style="font-weight: 500; font-size: 1.2rem;">@category.Name</td>
                        <td style="font-weight: 500; font-size: 1.2rem;">@category.Games.Count()</td>
                        <td class="users-list-table-btn">
                            <a asp-controller="Categories" asp-action="Edit" asp-route-id="@category.Id"
                                class="table-btn btn btn-sm btn-info"><i class="fa fa-pencil" aria-hidden="true"></i></a>
                            <a asp-route-id="@category.Id" asp-controller="Categories" asp-action="DeleteConfirmed"
                                onclick="return confirm('Вы уверены, что хотите удалить эту категорию?\n\n');"
                                class="table-btn btn btn-sm btn-danger"><i class="fa fa-trash" aria-hidden="true"></i></a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>